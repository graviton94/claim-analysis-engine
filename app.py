# ============================================================================
# ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ì—”íŠ¸ë¦¬
# ============================================================================
# Streamlit ì•± ì‹¤í–‰ ì„¤ì • ë° ë©”ì¸ í˜ì´ì§€

import streamlit as st
from pathlib import Path

# ============================================================================
# í˜ì´ì§€ ë ˆì´ì•„ì›ƒ ì„¤ì •
# ============================================================================
st.set_page_config(
    page_title="Advanced Claim Prediction System",
    page_icon="ğŸ†",
    layout="wide",
    initial_sidebar_state="expanded"
)

# ============================================================================
# ë©”ì¸ í˜ì´ì§€ ì½˜í…ì¸ 
# ============================================================================
st.title("ğŸ† Advanced Claim Prediction System")
st.markdown(
    """
    ### Global ML/DL ì±”í”¼ì–¸ ëª¨ë¸ ê¸°ë°˜, í”ŒëœíŠ¸ ì¤‘ì‹¬ ì •ë°€ ë¶„ì„ ì‹œìŠ¤í…œ
    
    ë‹¨ìˆœ í†µê³„ë‚˜ EWSë¥¼ ë„˜ì–´, Optunaë¡œ íŠœë‹ëœ ìµœì ì˜ ëª¨ë¸(CatBoost, LSTM, SARIMAX)ì„ ê²½ìŸì‹œì¼œ 
    ë¯¸ë˜ ë¦¬ìŠ¤í¬ë¥¼ ì˜ˆì¸¡í•©ë‹ˆë‹¤.
    """
)

st.divider()

# ============================================================================
# ì£¼ìš” ê¸°ëŠ¥ ì„¤ëª…
# ============================================================================
col1, col2 = st.columns(2)

with col1:
    st.subheader("ğŸ¯ ì£¼ìš” ëª©í‘œ")
    st.write(
        """
        1. **Hyper-Model**: ML/DL ëª¨ë¸ ìë™ íŠœë‹ ë° ì„±ëŠ¥ ë¹„êµ
        2. **Plant-Centric**: í”ŒëœíŠ¸ ê¸°ì¤€ ìœ ì—°í•œ í”¼ë²— ëŒ€ì‹œë³´ë“œ
        3. **Sales Integration**: ë§¤ì¶œ ë°ì´í„° í†µí•© ê´€ë¦¬ ë° PPM ë¶„ì„
        4. **Robust ETL**: 54ê°œ í•µì‹¬ í•„ë“œ ìë™ ì¶”ì¶œ ë° ì—°/ì›” íŒŒí‹°ì…”ë‹
        """
    )

with col2:
    st.subheader("ğŸ›  ê¸°ìˆ  ìŠ¤íƒ")
    st.write(
        """
        - **ML/DL**: CatBoost, PyTorch (LSTM), Statsmodels (SARIMAX)
        - **AutoML**: Optuna (í•˜ì´í¼íŒŒë¼ë¯¸í„° íŠœë‹)
        - **Data**: Pandas, Pyarrow (Parquet Partitioning)
        - **UI**: Streamlit (Data Editor, Dynamic Pivot)
        - **Viz**: Plotly Express / Graph Objects
        """
    )

st.divider()

# ============================================================================
# ì‚¬ì´ë“œë°”: ë„¤ë¹„ê²Œì´ì…˜
# ============================================================================
with st.sidebar:
    st.header("ğŸ“ ë„¤ë¹„ê²Œì´ì…˜")
    
    st.subheader("**Phase 1: Data Foundation**")
    st.write("âœ… ì™„ë£Œ")
    st.markdown(
        """
        - `1_ë°ì´í„°_ì—…ë¡œë“œ`: í´ë ˆì„ ë°ì´í„° íŒŒí‹°ì…”ë‹ ì ì¬
        - `2_ë§¤ì¶œìˆ˜ëŸ‰_ê´€ë¦¬`: ë§¤ì¶œ ë°ì´í„° CRUD
        """
    )
    
    st.divider()
    
    st.subheader("**Phase 2: Pivot Dashboard** (ì¤€ë¹„ì¤‘)")
    st.markdown(
        """
        - `3_í”ŒëœíŠ¸_ë¶„ì„`: ë™ì  í”¼ë²— í…Œì´ë¸”
        """
    )
    
    st.divider()
    
    st.subheader("**Phase 3: ML/DL Engine** (ì¤€ë¹„ì¤‘)")
    st.markdown(
        """
        - `4_ì˜ˆì¸¡_ì‹œë®¬ë ˆì´ì…˜`: ì±”í”¼ì–¸ ëª¨ë¸ í•™ìŠµ & ì˜ˆì¸¡
        """
    )
    
    st.divider()
    
    st.markdown(
        """
        ---
        **í”„ë¡œì íŠ¸ ì„¤ì •**
        - ğŸŒ¿ Branch: `main`
        - ğŸ“‚ Data: `data/hub/` (íŒŒí‹°ì…”ë‹), `data/sales/`
        - ğŸ“Š Models: `data/models/`
        """
    )

st.divider()

# ============================================================================
# ì‹œì‘ ê°€ì´ë“œ
# ============================================================================
st.subheader("ğŸ“š ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ")

with st.expander("1ï¸âƒ£ Step 1: ë°ì´í„° ì—…ë¡œë“œ (í•„ìˆ˜)", expanded=True):
    st.markdown(
        """
        1. ì¢Œì¸¡ ë„¤ë¹„ê²Œì´ì…˜ì—ì„œ **`1_ë°ì´í„°_ì—…ë¡œë“œ`** í˜ì´ì§€ë¡œ ì´ë™
        2. CSV ë˜ëŠ” Excel íŒŒì¼ ì„ íƒ
        3. ìë™ ì²˜ë¦¬ (54ê°œ í•„ë“œ ì¶”ì¶œ)
        4. íŒŒí‹°ì…”ë‹ ì €ì¥ (ì ‘ìˆ˜ë…„/ì ‘ìˆ˜ì›” ê¸°ì¤€)
        
        âœ… ì²˜ë¦¬ëœ ë°ì´í„°ëŠ” `data/hub/ì ‘ìˆ˜ë…„=YYYY/ì ‘ìˆ˜ì›”=MM/` í´ë”ì— ì €ì¥ë©ë‹ˆë‹¤.
        """
    )

with st.expander("2ï¸âƒ£ Step 2: ë§¤ì¶œ ë°ì´í„° ì…ë ¥ (ê¶Œì¥)", expanded=True):
    st.markdown(
        """
        1. ì¢Œì¸¡ ë„¤ë¹„ê²Œì´ì…˜ì—ì„œ **`2_ë§¤ì¶œìˆ˜ëŸ‰_ê´€ë¦¬`** í˜ì´ì§€ë¡œ ì´ë™
        2. í”ŒëœíŠ¸ë³„ ë…„/ì›” ë§¤ì¶œìˆ˜ëŸ‰ì„ ì—‘ì…€ í˜•ì‹ìœ¼ë¡œ ì…ë ¥
        3. ì €ì¥ (ë¶„ì„ ì‹œ í´ë ˆì„ ë°ì´í„°ì™€ ìë™ ì—°ê²°)
        
        ğŸ’¡ ë§¤ì¶œ ë°ì´í„°ë¥¼ ì œê³µí•˜ë©´ PPM(Parts Per Million) ì§€í‘œë¥¼ ê³„ì‚°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        """
    )

with st.expander("3ï¸âƒ£ Step 3: í”¼ë²— ë¶„ì„ (ì¤€ë¹„ì¤‘)", expanded=False):
    st.markdown(
        """
        - í”ŒëœíŠ¸ë³„ í´ë ˆì„ íŠ¸ë Œë“œ ë¶„ì„
        - ì‚¬ìš©ì ì •ì˜ í”¼ë²— í…Œì´ë¸”
        - ë³´ìƒì•¡, ê±´ìˆ˜, PPM ë“± ë‹¤ì–‘í•œ ì§€í‘œ
        """
    )

with st.expander("4ï¸âƒ£ Step 4: ì˜ˆì¸¡ ì‹œë®¬ë ˆì´ì…˜ (ì¤€ë¹„ì¤‘)", expanded=False):
    st.markdown(
        """
        - CatBoost, LSTM, SARIMAX ëª¨ë¸ ìë™ í•™ìŠµ
        - Optuna í•˜ì´í¼íŒŒë¼ë¯¸í„° ìµœì í™”
        - ì±”í”¼ì–¸ ëª¨ë¸ ì„ ì • ë° 6ê°œì›” ì˜ˆì¸¡
        """
    )

st.divider()

# ============================================================================
# í”„ë¡œì íŠ¸ ì •ë³´
# ============================================================================
st.subheader("â„¹ï¸ í”„ë¡œì íŠ¸ ì •ë³´")

col_info1, col_info2 = st.columns(2)

with col_info1:
    st.write("**GitHub Repository**")
    st.write("[graviton94/claim-analysis-engine](https://github.com/graviton94/claim-analysis-engine/tree/main)")
    
with col_info2:
    st.write("**Current Phase**")
    st.write("Phase 1: Data Foundation & Sales Integration âœ…")

st.write("")
st.caption("Â© 2026 Advanced Claim Prediction System | Branch: main")
